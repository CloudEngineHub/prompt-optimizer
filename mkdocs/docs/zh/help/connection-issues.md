# 连接问题解决

本指南专门解决 Prompt Optimizer 使用过程中遇到的各种连接和功能异常问题。

## ⚠️ 优化失败问题

### Q: 优化失败怎么办？

#### 系统性问题诊断流程

**Step 1: 基础检查**
```bash
# 网络连通性测试
1. 打开浏览器开发者工具（F12）
2. 查看Network标签页
3. 尝试进行优化操作
4. 观察是否有网络请求失败

# API服务状态检查
访问对应服务商的状态页面：
- OpenAI: https://status.openai.com
- Google: https://status.cloud.google.com
- DeepSeek: 官方公告页面
```

**Step 2: API密钥验证**
```bash
# 测试API密钥有效性
1. 在模型设置页面点击"测试连接"
2. 查看是否返回成功响应
3. 检查API密钥格式是否正确
4. 验证账户额度是否充足
```

**Step 3: 模型状态检查**
```javascript
// 常见模型状态问题
模型维护中: 尝试其他同类模型
模型过载: 稍后重试或降低请求频率
模型不支持: 检查模型名称是否正确
区域限制: 某些模型有地区访问限制
```

#### 常见错误代码解析

**401 Unauthorized - 认证失败**
```bash
原因分析:
- API密钥无效或已过期
- API密钥格式错误
- 账户被暂停或限制

解决方案:
1. 重新生成API密钥
2. 检查密钥前后是否有多余空格
3. 联系服务商确认账户状态
4. 确认API密钥权限范围
```

**429 Too Many Requests - 请求过频**
```bash
原因分析:
- 超出API调用速率限制
- 短时间内请求过多
- 账户级别限制

解决方案:
1. 等待几分钟后重试
2. 降低请求频率
3. 升级API服务等级
4. 使用指数退避重试策略
```

**500 Internal Server Error - 服务器错误**
```bash
原因分析:
- 模型服务临时故障
- 请求内容触发安全策略
- 服务商内部问题

解决方案:
1. 更换其他可用模型
2. 简化提示词内容
3. 稍后重试
4. 检查服务商状态页面
```

**Network Error - 网络错误**
```bash
原因分析:
- 网络连接问题
- 代理设置错误
- 跨域限制
- 防火墙阻拦

解决方案:
1. 检查网络连接
2. 尝试使用桌面版
3. 配置或禁用代理
4. 检查防火墙设置
```

### Q: 如何提高优化质量？

#### 输入优化策略

**1. 明确具体目标**
```markdown
❌ 不好的描述:
"帮我优化这个提示词"

✅ 好的描述:
"我需要一个客服回复模板，要求：
- 语气友善专业
- 能处理用户投诉
- 提供解决方案
- 控制在200字以内"
```

**2. 提供充分背景**
```markdown
❌ 缺乏背景:
"写个营销文案"

✅ 充实背景:
"为我们的SaaS产品写营销文案：
- 目标用户：中小企业主
- 产品特点：项目管理工具
- 竞争优势：易用、性价比高
- 使用场景：团队协作、进度跟踪"
```

**3. 使用结构化描述**
```markdown
# 结构化提示词模板
## 任务描述
[具体要完成的任务]

## 输出要求
- 格式：[指定格式]
- 长度：[字数限制]
- 风格：[语言风格]
- 结构：[内容结构]

## 背景信息
- 使用场景：[具体场景]
- 目标用户：[用户群体]
- 关键信息：[重要细节]

## 示例参考
[提供1-2个期望输出的示例]
```

**4. 提供示例说明**
```markdown
❌ 无示例:
"生成产品介绍"

✅ 有示例:
"生成产品介绍，参考格式：

【产品名称】智能客服助手
【核心功能】24小时自动回复，智能意图识别
【用户收益】提升客户满意度，降低人力成本
【适用场景】电商、SaaS、在线服务等行业"
```

#### 优化策略进阶技巧

**1. 选择合适模板**
```bash
# 模板选择指南
通用优化: 适合大部分场景
角色扮演: AI需要特定身份时
任务指令: 有明确执行步骤时
创意写作: 需要创造性输出时
技术文档: 专业技术内容时
商务沟通: 正式商务场景时
```

**2. 迭代优化策略**
```bash
# 多轮优化流程
第1轮: 基础优化，明确核心需求
第2轮: 细化要求，补充具体细节
第3轮: 风格调整，优化表达方式
第4轮: 最终打磨，确保完美输出

# 迭代优化技巧
每次只改进1-2个方面
保留上轮优化的优点
记录改进效果对比
```

**3. 模型选择策略**
```javascript
// 不同模型的擅长领域
GPT-4: 综合能力强，复杂推理
GPT-3.5: 速度快，成本低，日常任务
Gemini Pro: 长文本处理，多模态
DeepSeek: 编程任务，逻辑推理
Claude: 分析能力强，安全性高
国产模型: 中文理解，本土化场景
```

**4. 参数调整建议**
```javascript
// Temperature参数调整
0.1-0.3: 精确性要求高（技术文档、数据分析）
0.4-0.7: 平衡创造性和准确性（一般优化）
0.8-1.0: 创造性要求高（创意写作、头脑风暴）

// 其他参数建议
max_tokens: 根据预期输出长度设置
top_p: 通常保持0.9-1.0
frequency_penalty: 避免重复时可适当调高
```

## 📱 平台差异问题

### Q: 桌面版和网页版有什么区别？

#### 功能对比详表

| 功能类别 | 桌面版 | 网页版 | Chrome插件 |
|----------|--------|--------|-------------|
| **基础功能** |
| 提示词优化 | ✅ 完整 | ✅ 完整 | ✅ 完整 |
| 历史记录 | ✅ 完整 | ✅ 完整 | ✅ 有限 |
| 模板管理 | ✅ 完整 | ✅ 完整 | ✅ 基础 |
| **高级功能** |
| 变量管理 | ✅ 完整 | ✅ 完整 | ⚠️ 受限 |
| 工具调用 | ✅ 完整 | ✅ 完整 | ⚠️ 受限 |
| 多轮对话 | ✅ 完整 | ✅ 完整 | ⚠️ 受限 |
| **网络访问** |
| 主流API | ✅ 无限制 | ⚠️ 跨域限制 | ⚠️ 部分限制 |
| 本地模型 | ✅ 完美支持 | ❌ 混合内容限制 | ⚠️ 有限支持 |
| 自定义API | ✅ 无限制 | ⚠️ 需要代理 | ⚠️ 受限 |
| **性能体验** |
| 启动速度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 响应速度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 内存占用 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **数据管理** |
| 本地存储 | ✅ 文件系统 | ✅ 浏览器存储 | ✅ 插件存储 |
| 数据导出 | ✅ 完整 | ✅ 完整 | ⚠️ 受限 |
| 跨设备同步 | ⚠️ 手动 | ⚠️ 手动 | ✅ Chrome同步 |

#### 选择建议

**选择桌面版的情况**：
```bash
✅ 需要连接本地AI模型（Ollama、LM Studio）
✅ 经常使用，希望有独立应用
✅ 对性能和稳定性要求高
✅ 需要使用完整的高级功能
✅ 企业内网环境使用
✅ 对数据安全和隐私要求高
```

**选择网页版的情况**：
```bash
✅ 临时使用或首次体验
✅ 跨平台、多设备访问需求
✅ 不能安装软件的环境
✅ 希望始终使用最新版本
✅ 主要使用主流云端API
✅ 设备存储空间有限
```

**选择Chrome插件的情况**：
```bash
✅ 偶尔使用，希望轻便快捷
✅ 主要在浏览器环境中工作
✅ 需要与网页内容集成
✅ Chrome用户，希望数据同步
✅ 不想安装额外软件
✅ 对功能要求不高
```

### Q: Chrome插件如何安装和使用？

#### 详细安装指南

**方法1：Chrome商店安装（推荐）**
```bash
# 安装步骤
1. 打开Chrome浏览器
2. 访问: chrome://extensions/ 或点击菜单->更多工具->扩展程序
3. 打开Chrome Web Store
4. 搜索"Prompt Optimizer"
5. 点击"添加至Chrome"
6. 确认"添加扩展程序"

# 验证安装
✅ 工具栏出现插件图标
✅ 扩展程序页面显示已安装
✅ 点击图标能正常打开界面
```

**方法2：开发者模式安装**
```bash
# 适用情况
- Chrome商店无法访问
- 想要使用最新版本
- 开发者或高级用户

# 安装步骤
1. 下载插件压缩包并解压
2. 打开chrome://extensions/
3. 开启"开发者模式"开关
4. 点击"加载已解压的扩展程序"
5. 选择解压后的文件夹
6. 插件安装完成

# 注意事项
⚠️ Chrome可能显示安全警告
⚠️ 需要手动管理更新
⚠️ 重启浏览器后可能需要重新启用
```

#### 使用配置指南

**基础配置**：
```bash
# 首次使用配置
1. 点击插件图标打开界面
2. 进入设置页面配置API密钥
3. 选择常用的模型和参数
4. 测试连接确保配置正确

# 界面优化
- 固定插件图标到工具栏
- 调整插件窗口大小
- 设置合适的默认参数
- 配置快捷键（可选）
```

**高级功能配置**：
```bash
# 快捷键设置
地址栏输入: chrome://extensions/shortcuts
找到Prompt Optimizer并配置：
- 启动插件: 建议Alt+P
- 快速优化: 建议Alt+O
- 历史记录: 建议Alt+H

# 权限管理
扩展程序详情页面设置：
- 网站访问权限: "在所有网站上"（推荐）
- 或添加常用网站到允许列表
- 确保有网络访问权限
```

#### 常见使用场景

**场景1：网页文本优化**
```bash
使用流程:
1. 在网页中选择需要优化的文本
2. 右键选择"使用Prompt Optimizer优化"
3. 或直接复制后点击插件图标
4. 进行优化处理
5. 将结果复制回网页或直接插入
```

**场景2：在线编辑器集成**
```bash
支持的编辑器:
✅ 谷歌文档 (Google Docs)
✅ Notion编辑器
✅ GitHub代码编辑
✅ 各种CMS后台编辑器
✅ 在线邮件编辑器

使用方法:
1. 在编辑器中写好初稿
2. 选中文本并启动优化
3. 获得优化结果
4. 一键插入回编辑器
```

**场景3：批量处理**
```bash
工作流程:
1. 准备多个待优化文本
2. 逐个进行优化处理
3. 使用历史记录管理结果
4. 批量导出或复制结果

提效技巧:
- 使用模板快速处理相似内容
- 利用快捷键提高操作效率
- 建立常用配置预设
```

#### 插件限制和解决方案

**功能限制**：
```bash
# 相比桌面版的限制
⚠️ 某些高级功能可能不可用
⚠️ 文件操作能力有限  
⚠️ 网络请求可能受限
⚠️ 无法后台持续运行

# 解决方案
对于复杂任务: 使用桌面版
需要本地模型: 使用桌面版
大量数据处理: 使用Web版或桌面版
```

**兼容性问题**：
```bash
# 浏览器兼容性
✅ Chrome 88+
✅ Microsoft Edge 88+ (Chromium)
✅ Brave Browser
❌ Firefox (需要专版)
❌ Safari (需要专版)

# 解决方案
不兼容浏览器: 使用Web版
功能受限: 考虑桌面版
```

---

**相关链接**：
- [故障排除](troubleshooting.md) - 技术问题和数据安全
- [技术支持](support.md) - 获取更多帮助