# Chrome插件

Prompt Optimizer Chrome插件提供便携的提示词优化体验，让您可以在任何网页中快速访问优化功能。

## 🔌 插件优势

Chrome插件版本的独特优势：

- ✅ **随时可用** - 浏览器工具栏一键访问，无需切换应用
- ✅ **轻量快速** - 无需单独安装应用，占用资源少
- ✅ **部分跨域能力** - 相比Web版有更好的API访问能力
- ✅ **上下文集成** - 可与浏览器内容互动，支持页面文本选取
- ✅ **同步数据** - 与Chrome账户同步设置和配置
- ✅ **快捷访问** - 支持快捷键和右键菜单快速启动

## 📥 安装方式

### 方式一：Chrome商店安装（推荐）

#### 官方商店地址
[Chrome Web Store - Prompt Optimizer](https://chromewebstore.google.com/detail/prompt-optimizer/cakkkhboolfnadechdlgdcnjammejlna)

#### 安装步骤
1. **访问商店页面**
   - 点击上方链接访问Chrome Web Store
   - 或搜索"Prompt Optimizer"

2. **安装插件**
   - 点击"添加至Chrome"按钮
   - 在弹窗中点击"添加扩展程序"确认
   - 等待安装完成

3. **验证安装**
   - 插件图标出现在浏览器工具栏
   - 右上角可能显示"已添加至Chrome"通知

#### 商店版本特点
- ✅ **安全可靠** - 经过Google审核验证
- ✅ **自动更新** - Chrome自动管理更新
- ⚠️ **版本延迟** - 由于审核机制，可能不是最新版本
- ⚠️ **功能限制** - 某些高级功能可能受限

### 方式二：开发者模式安装

#### 适用场景
- 想要使用最新版本功能
- Chrome Web Store无法访问
- 需要自定义插件配置
- 开发者或高级用户

#### 详细安装步骤

**1. 下载插件包**
```bash
# 从GitHub Releases下载
访问：https://github.com/linshenkx/prompt-optimizer/releases
下载：extension.zip 或 chrome-extension-v[版本].zip
解压到本地文件夹
```

**2. 启用开发者模式**
```bash
# Chrome浏览器操作步骤
1. 打开Chrome浏览器
2. 地址栏输入：chrome://extensions/
3. 右上角开启"开发者模式"开关
4. 页面会显示额外的开发者选项
```

**3. 加载插件**
```bash
# 加载解压的插件
1. 点击"加载已解压的扩展程序"按钮
2. 选择解压后的插件文件夹（包含manifest.json的文件夹）
3. 点击"选择文件夹"
4. 插件安装完成，图标出现在工具栏
```

**4. 验证安装**
- 插件卡片出现在扩展程序页面
- 显示"已解压扩展程序"标识
- 工具栏出现插件图标

#### 开发者模式注意事项
- ⚠️ Chrome可能显示"请停用以开发者模式运行的扩展程序"警告
- ⚠️ 需要手动管理更新
- ✅ 可以访问最新功能
- ✅ 可以自定义配置

## 🎯 使用指南

### 基本操作

#### 启动插件
```bash
# 方法1：点击图标
点击浏览器工具栏中的Prompt Optimizer图标

# 方法2：使用快捷键
默认快捷键：Alt+P（可在chrome://extensions/shortcuts中自定义）

# 方法3：右键菜单
在网页上右键 -> 选择"Prompt Optimizer"
```

#### 插件界面
- **紧凑模式** - 适配浏览器插件窗口尺寸
- **响应式设计** - 支持窗口大小调整
- **简化布局** - 核心功能优先显示
- **快速访问** - 常用操作一键可达

#### 窗口管理
```bash
# 调整窗口大小
拖拽插件窗口边缘调整大小
双击标题栏最大化/还原窗口

# 固定插件
右键插件图标 -> "固定"
插件图标会始终显示在工具栏

# 弹出新窗口
点击插件窗口右上角"弹出"按钮
在独立窗口中使用插件
```

### 插件特有功能

#### 页面内容集成

**文本选择优化**：
```bash
# 使用方法
1. 在网页中选中任意文本
2. 右键选择"使用Prompt Optimizer优化"
3. 选中的文本自动填入优化输入框
4. 进行优化处理
```

**结果插入**：
```bash
# 将优化结果插入到网页
1. 完成提示词优化
2. 点击"插入到页面"按钮
3. 选择目标输入框或文本区域
4. 优化结果自动插入
```

#### 在线编辑器集成

**支持的编辑器**：
- Notion页面编辑
- Google Docs文档
- GitHub代码编辑器
- 各种CMS内容编辑器
- 在线邮件编辑器

**集成功能**：
```javascript
// 自动检测编辑器
插件会自动识别页面中的文本编辑器
支持富文本和纯文本编辑器
提供一键插入功能

// 格式保持
插入时保持原有格式
支持Markdown格式转换
自动适配编辑器类型
```

#### 快捷访问功能

**地址栏快捷指令**：
```bash
# 在地址栏输入快捷指令
po optimize    # 快速打开优化界面
po history     # 查看历史记录
po settings    # 打开设置页面
```

**右键菜单集成**：
- 选中文本时显示优化选项
- 在输入框中显示插入选项
- 页面空白处显示插件启动选项

### 配置和管理

#### 访问插件设置

**方法1：插件选项页**
```bash
1. 右键点击插件图标
2. 选择"选项"或"扩展程序选项"
3. 打开独立的设置页面
```

**方法2：扩展程序管理**
```bash
1. 访问 chrome://extensions/
2. 找到Prompt Optimizer
3. 点击"详细信息"
4. 点击"扩展程序选项"
```

#### 权限管理

**网站访问权限**：
```bash
# 配置网站权限
扩展程序详细信息 -> 网站访问权限
选项：
- 在所有网站上：完整功能
- 在点击扩展程序时：手动激活
- 在特定网站上：自定义网站列表
```

**API调用权限**：
- 插件需要网络权限访问AI服务
- 支持本地模型连接（受浏览器限制）
- 可配置允许的API端点

**数据存储权限**：
- 本地存储用户配置和历史
- 可选择与Chrome账户同步
- 支持数据导入导出

#### 快捷键配置

```bash
# 访问快捷键设置
地址栏输入：chrome://extensions/shortcuts
找到Prompt Optimizer部分

# 可配置的快捷键
启动插件：默认 Alt+P
快速优化：默认 Alt+O
历史记录：默认 Alt+H
设置页面：默认 Alt+S

# 自定义快捷键
点击快捷键输入框
按下想要设置的按键组合
支持全局快捷键和网站特定快捷键
```

### 数据同步

#### Chrome同步功能

**自动同步内容**：
```javascript
// 会同步的数据
用户偏好设置
模型配置（不包含API密钥）
自定义模板
界面布局配置

// 不会同步的数据
API密钥等敏感信息
历史记录
缓存数据
```

**同步设置**：
```bash
# 启用同步
Chrome设置 -> 同步功能和Google服务 -> 管理同步功能
确保"扩展程序"同步已启用

# 插件同步设置
插件设置 -> 数据同步 -> 启用Chrome同步
选择要同步的数据类型
```

#### 跨设备使用

**设备间保持一致**：
- 设置和配置自动同步
- 在新设备上安装插件后自动恢复设置
- 支持Windows、macOS、Linux上的Chrome

**数据迁移**：
```bash
# 手动迁移数据
旧设备：插件设置 -> 导出数据 -> 下载备份文件
新设备：插件设置 -> 导入数据 -> 选择备份文件

# 同步迁移（推荐）
确保两个设备都登录同一Google账号
启用Chrome扩展程序同步
设置会自动同步到新设备
```

## ⚠️ 插件限制

### 功能限制

#### 浏览器安全限制
```bash
# 网络请求限制
某些API可能被浏览器安全策略阻止
HTTPS网站只能访问HTTPS API
本地模型访问可能受限

# 文件操作限制
无法直接访问本地文件系统
导出功能依赖浏览器下载
备份文件需要用户手动管理

# 系统集成限制
无法创建系统级快捷方式
无法开机自启动
无法后台持续运行
```

#### 相比桌面版的限制

| 功能 | 插件版 | 桌面版 |
|------|--------|--------|
| 本地模型支持 | ⚠️ 受限 | ✅ 完整 |
| 文件导入导出 | ⚠️ 浏览器限制 | ✅ 完整 |
| 网络配置 | ⚠️ 基础 | ✅ 高级 |
| 后台运行 | ❌ 不支持 | ✅ 支持 |
| 系统集成 | ⚠️ 有限 | ✅ 完整 |

### 兼容性说明

#### 支持的浏览器
```bash
# 完全支持
✅ Chrome 88+
✅ Microsoft Edge 88+ (Chromium版)
✅ Brave Browser
✅ Opera 74+
✅ 其他Chromium内核浏览器

# 不支持
❌ Firefox（需要Firefox专版）
❌ Safari（需要Safari专版）
❌ Internet Explorer
❌ 旧版Chrome（88以下）
```

#### 系统兼容性
- ✅ Windows 10/11
- ✅ macOS 10.15+
- ✅ Ubuntu 18.04+
- ✅ 其他支持Chrome的Linux发行版

## 🔄 更新和维护

### 自动更新机制

#### Chrome商店版本
```bash
# 自动更新流程
1. Chrome定期检查扩展程序更新（通常24小时内）
2. 发现新版本时自动下载
3. 下次启动浏览器时自动安装
4. 更新完成后可能显示通知

# 手动检查更新
chrome://extensions/ -> 右上角"更新"按钮
或者插件详情页面 -> "更新"
```

#### 开发者模式版本
```bash
# 手动更新流程
1. 从GitHub下载最新版本
2. 解压到原文件夹（覆盖旧文件）
3. chrome://extensions/ -> 找到插件 -> 点击"重新加载"
4. 更新完成

# 检查版本
插件设置页面查看当前版本号
GitHub Releases页面查看最新版本
```

### 版本管理

#### 查看当前版本
```bash
# 方法1：扩展程序页面
chrome://extensions/ -> 找到Prompt Optimizer -> 查看版本号

# 方法2：插件设置
点击插件图标 -> 设置 -> 关于 -> 版本信息

# 方法3：右键菜单
右键插件图标 -> 查看扩展程序信息
```

#### 版本回滚限制
```bash
# Chrome商店版本
❌ Chrome不支持插件版本回滚
✅ 可以暂时禁用插件
✅ 可以卸载后重新安装

# 开发者模式版本
✅ 可以手动回滚到旧版本
✅ 保留旧版本文件作为备份
✅ 随时切换版本
```

### 故障排除

#### 常见问题解决

**插件无法加载**：
```bash
# 检查步骤
1. 确认Chrome版本 >= 88
2. 检查开发者模式是否启用（开发者版本）
3. 重新加载插件
4. 重启浏览器

# 解决方案
chrome://extensions/ -> 插件详情 -> "重新加载"
或者删除插件重新安装
```

**功能异常**：
```bash
# 清除插件数据
chrome://extensions/ -> 插件详情 -> "扩展程序选项"
设置页面 -> 数据管理 -> 清除所有数据

# 重置插件
禁用插件 -> 启用插件
或者卸载 -> 重新安装
```

**网络连接问题**：
```bash
# 检查API配置
插件设置 -> 模型管理 -> 测试连接
确认API密钥正确

# 检查网络权限
chrome://extensions/ -> 插件详情 -> 网站访问权限
设置为"在所有网站上"或添加API域名
```

#### 调试和日志

**开启调试模式**：
```bash
# 开发者工具
右键插件图标 -> 检查弹出式窗口内容
或者 F12 -> Console 查看错误日志

# 插件调试页面
chrome://extensions/ -> 插件详情 -> "检查视图"
点击相应链接打开调试控制台
```

**日志分析**：
```javascript
// 常见错误类型
网络错误：检查API配置和网络连接
权限错误：检查浏览器权限设置  
脚本错误：通常是页面兼容性问题
存储错误：清除插件数据重试
```

## 💡 最佳实践

### 使用技巧

#### 1. 工作流程优化
```bash
# 快捷键配置建议
启动插件：Alt+P（常用）
快速优化：Alt+O（高频操作）  
插入结果：Alt+I（配合页面编辑）

# 固定插件图标
确保插件图标始终可见
避免在扩展程序菜单中寻找
```

#### 2. 页面集成技巧
```bash
# 文本选择优化
选择关键段落进行优化
利用右键菜单快速启动
结合不同网站的编辑器使用

# 批量处理
准备多个文本片段
使用历史记录功能
建立常用优化模板
```

#### 3. 数据管理
```bash
# 定期备份
每月导出一次插件数据
重要配置及时同步到云端
保留重要的历史记录

# 多设备同步
启用Chrome同步功能
确保API密钥在所有设备上配置
定期检查同步状态
```

### 与其他版本协作

#### 版本互补使用
```bash
# 插件 + 桌面版
插件：临时、快速的优化需求
桌面版：复杂、深度的优化任务
数据可通过导入导出同步

# 插件 + Web版
插件：日常浏览器内使用
Web版：跨平台、临时访问
共享在线模板和配置
```

#### 数据迁移
```bash
# 从插件到桌面版
插件设置 -> 导出数据 -> 下载JSON文件
桌面版设置 -> 导入数据 -> 选择JSON文件
检查配置和历史记录是否正确迁移
```

---

**相关链接**：
- [桌面应用](desktop.md) - 功能更完整的桌面版本
- [Web版部署](web.md) - 在线版本使用指南